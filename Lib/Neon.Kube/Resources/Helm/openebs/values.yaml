# Default values for openebs.
# This is a YAML-formatted file.
# Declare variables to be passed into your templates.

rbac:
  # Specifies whether RBAC resources should be created
  create: true
  pspEnabled: false

serviceAccount:
  create: true
  name: openebs-maya-operator

release:
  # "openebs.io/version" label for control plane components
  version: "2.1.0"

image:
  pullPolicy: IfNotPresent
  repository: ""

cspcOperator:
  image:
    organization: ghcr.io/neonrelease
    repository: openebs-cspc-operator-amd64
    tag: latest
    
csi:
  resizer:
    image:
      organization: ghcr.io/neonrelease
      repository: k8scsi-csi-resizer
      tag: latest
  snapshotter:
    image:
      organization: ghcr.io/neonrelease
      repository: k8scsi-csi-snapshotter
      tag: latest
  provisioner:
    image:
      organization: ghcr.io/neonrelease
      repository: k8scsi-csi-provisioner
      tag: latest
  attacher:
    image:
      organization: ghcr.io/neonrelease
      repository: k8scsi-csi-attacher
      tag: latest
  clusterDriverRegistrar:
    image:
      organization: ghcr.io/neonrelease
      repository: k8scsi-csi-cluster-driver-registrar
      tag: latest
  driver:
    image:
      organization: ghcr.io/neonrelease
      repository: openebs-cstor-csi-driver
      tag: latest
  nodeDriverRegistrar:
    image:
      organization: ghcr.io/neonrelease
      repository: k8scsi-csi-node-driver-registrar
      tag: latest

snapshotController:
  image:
    organization: ghcr.io/neonrelease
    repository: k8scsi-snapshot-controller
    tag: latest

cvcOperator:
  image:
    organization: ghcr.io/neonrelease
    repository: openebs-cvc-operator-amd64
    tag: latest

apiserver:
  enabled: true
  image:
    organization: ghcr.io/neonrelease
    repository: openebs-m-apiserver
    tag: latest
  replicas: 1
  ports:
    externalPort: 5656
    internalPort: 5656
  sparse:
    enabled: "false"
  nodeSelector: {}
  tolerations: 
  - operator: "Exists"
    effect: "NoSchedule"
  - operator: "Exists"
    effect: "NoExecute"
  affinity: {}
  healthCheck:
    initialDelaySeconds: 30
    periodSeconds: 60

defaultStorageConfig:
  enabled: "true"

# Directory used by the OpenEBS to store debug information and so forth
# that are generated in the course of running OpenEBS containers.
varDirectoryPath:
  baseDir: "/var/openebs"

provisioner:
  enabled: true
  image:
    organization: ghcr.io/neonrelease
    repository: openebs-k8s-provisioner
    tag: latest
  replicas: 1
  enableLeaderElection: true
  nodeSelector: {}
  tolerations: 
  - operator: "Exists"
    effect: "NoSchedule"
  - operator: "Exists"
    effect: "NoExecute"
  affinity: {}
  healthCheck:
    initialDelaySeconds: 30
    periodSeconds: 60

localprovisioner:
  enabled: true
  image:
    organization: ghcr.io/neonrelease
    repository: openebs-provisioner-localpv
    tag: latest
  replicas: 1
  enableLeaderElection: true
  basePath: "/var/openebs/local"
  nodeSelector: {}
  tolerations: 
  - operator: "Exists"
    effect: "NoSchedule"
  - operator: "Exists"
    effect: "NoExecute"
  affinity: {}
  healthCheck:
    initialDelaySeconds: 30
    periodSeconds: 60

snapshotOperator:
  enabled: true
  controller:
    image:
      organization: ghcr.io/neonrelease
      repository: openebs-snapshot-controller
      tag: latest
  provisioner:
    image:
      organization: ghcr.io/neonrelease
      repository: openebs-snapshot-provisioner
      tag: latest
  replicas: 1
  enableLeaderElection: true
  upgradeStrategy: "Recreate"
  nodeSelector: {}
  tolerations: 
  - operator: "Exists"
    effect: "NoSchedule"
  - operator: "Exists"
    effect: "NoExecute"
  affinity: {}
  healthCheck:
    initialDelaySeconds: 30
    periodSeconds: 60

ndm:
  enabled: true
  image:
    organization: ghcr.io/neonrelease
    repository: openebs-node-disk-manager
    tag: latest
  sparse:
    path: "/var/openebs/sparse"
    size: "10737418240"
    count: "0"
  filters:
    enableOsDiskExcludeFilter: true
    enableVendorFilter: true
    excludeVendors: "CLOUDBYT,OpenEBS"
    enablePathFilter: true
    includePaths: ""
    excludePaths: "loop,fd0,sr0,/dev/ram,/dev/dm-,/dev/md,/dev/rbd"
  probes:
    enableSeachest: false
  nodeSelector: {}
  tolerations: 
  - operator: "Exists"
    effect: "NoSchedule"
  - operator: "Exists"
    effect: "NoExecute"
  healthCheck:
    initialDelaySeconds: 30
    periodSeconds: 60

ndmOperator:
  enabled: true
  image:
    organization: ghcr.io/neonrelease
    repository: openebs-node-disk-operator
    tag: latest
  replicas: 1
  upgradeStrategy: Recreate
  nodeSelector: {}
  tolerations:
  - operator: "Exists"
    effect: "NoSchedule"
  - operator: "Exists"
    effect: "NoExecute"
  healthCheck:
    initialDelaySeconds: 30
    periodSeconds: 60
  readinessCheck:
    initialDelaySeconds: 4
    periodSeconds: 10
    failureThreshold: 1

webhook:
  enabled: true
  image:
    organization: ghcr.io/neonrelease
    repository: openebs-admission-server
    tag: latest
  failurePolicy: "Fail"
  replicas: 1
  healthCheck:
    initialDelaySeconds: 30
    periodSeconds: 60
  nodeSelector: {}
  tolerations: 
  - operator: "Exists"
    effect: "NoSchedule"
  - operator: "Exists"
    effect: "NoExecute"
  affinity: {}
  hostNetwork: false

jiva:
  image:
    organization: ghcr.io/neonrelease
    repository: openebs-jiva
    tag: latest
  replicas: 3
  defaultStoragePath: "/var/openebs"

cstor:
  pool:
    image:
      organization: ghcr.io/neonrelease
      repository: openebs-cstor-pool
      tag: latest
  poolMgmt:
    image:
      organization: ghcr.io/neonrelease
      repository: openebs-cstor-pool-manager
      tag: latest
  target:
    image:
      organization: ghcr.io/neonrelease
      repository: openebs-cstor-istgt
      tag: latest
  volumeMgmt:
    image:
      organization: ghcr.io/neonrelease
      repository: openebs-cstor-volume-mgmt
      tag: latest
  webhook:
    image:
      organization: ghcr.io/neonrelease
      repository: openebs-cstor-webhook-amd64
      tag: latest
  volumeManager:
    image:
      organization: ghcr.io/neonrelease
      repository: openebs-cstor-volume-manager-amd64
      tag: latest

helper:
  image:
    organization: ghcr.io/neonrelease
    repository: openebs-linux-utils
    tag: latest

featureGates:
  enabled: true
  GPTBasedUUID:
    enabled: true
    featureGateFlag: "GPTBasedUUID"
  APIService:
    enabled: false
    featureGateFlag: "APIService"

crd:
  enableInstall: true

policies:
  monitoring:
    enabled: true
    image:
      organization: ghcr.io/neonrelease
      repository: openebs-m-exporter
      tag: latest

analytics:
  enabled: false
  # Specify in hours the duration after which a ping event needs to be sent.
  pingInterval: "24h"
